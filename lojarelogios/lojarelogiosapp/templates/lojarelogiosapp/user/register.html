{% extends 'base.html' %}
<title>{% block title %}Loja de Relógios - Registre-se{% endblock title %}</title>
{% block content %}
<form method="post" action="{% url 'lojarelogiosapp:register' %}">
    {% csrf_token %}
    <div class="mb-3">
        <label for="primeiro_nome" class="form-label">Primeiro Nome:</label>
        <input value="primeiro_nome" type="text" class="form-control" id="primeiro_nome"
            aria-describedby="primeiro_nome">
        <div id="primeiro_nome" class="form-text">Seu primeiro nome</div>
    </div>

    <div class="mb-3">
        <label for="ultimo_nome" class="form-label">Último Nome:</label>
        <input value="ultimo_nome" type="text" class="form-control" id="ultimo_nome" aria-describedby="ultimo_nome">
        <div id="ultimo_nome" class="form-text">Seu sobrenome</div>
    </div>

    <div class="mb-3">
        <label for="usuario" class="form-label">Usuário:</label>
        <input value="usuario" type="text" class="form-control" id="usuario" aria-describedby="usuario">
        <div id="usuario" class="form-text">Seu nome de usuário</div>
    </div>

    <div class="mb-3">
        <label for="email" class="form-label">Email:</label>
        <input value="email" type="text" class="form-control" id="email" aria-describedby="email">
        <div id="email" class="form-text">Seu email</div>
    </div>

    <div class="mb-3">
        <label for="senha" class="form-label">Senha:</label>
        <input value="senha" type="text" class="form-control" id="senha" aria-describedby="senha">
        <div id="senha" class="form-text">Sua senha</div>
    </div>

    <div class="mb-3">
        <label for="confirma-senha" class="form-label">Confirmar senha:</label>
        <input value="confirma-senha" type="text" class="form-control" id="confirma-senha"
            aria-describedby="confirma-senha">
        <div id="senha" class="form-text">Confirme sua senha</div>
    </div>

    <button disabled id="sbtn" type="submit" class="btn btn-primary">Registrar-se</button>
</form>
<script async>
    var testeCondicional = () => confirmaSenha.value == senha.value ? sBtn.disabled = false : sBtn.disabled = true;
    // Variável representando o input de senha
    var senha = document.getElementById('senha');
    senha.addEventListener('input', async () => testeCondicional());

    // Variável representando o input de confirmar senha
    var confirmaSenha = document.getElementById('confirma-senha');
    confirmaSenha.addEventListener('input', async () => testeCondicional());

    // Agora a gente pega o botão de submit
    var sBtn = document.getElementById('sbtn');
</script>
{% endblock content %}